# Трансформации текста для развития техники чтения

## Обзор

Генератор текстов для чтения предоставляет 12 различных типов трансформаций, направленных на развитие различных аспектов техники чтения у детей и взрослых.

## Реализованные трансформации

### 1. Обычный текст (normal)
- **Описание:** Стандартный текст без модификаций
- **Сложность:** Легко
- **Цель:** Базовое чтение
- **Пример:** "Боря плыл в лодке. Солнце ярко светило."

### 2. Текст без нижней части (bottom-cut)
- **Описание:** Нижняя часть букв обрезана с помощью CSS
- **Сложность:** Легко
- **Цель:** Развитие зрительного восприятия
- **Настройки:** Процент обрезания (20-70%)
- **Реализация:** CSS `clip-path` с настраиваемой высотой через CSS-переменные
- **Пример:** Буквы выглядят как обрезанные снизу

### 3. Текст без верхней части (top-cut)
- **Описание:** Верхняя часть букв обрезана с помощью CSS
- **Сложность:** Легко
- **Цель:** Развитие зрительного восприятия
- **Настройки:** Процент обрезания (20-70%)
- **Реализация:** CSS `clip-path` с настраиваемой высотой
- **Пример:** Буквы выглядят как обрезанные сверху

### 4. Без окончаний (missing-endings)
- **Описание:** В словах отсутствуют последние 1-2 буквы, заменены подчеркиваниями
- **Сложность:** Средне
- **Цель:** Развитие прогнозирования и догадки
- **Настройки:** Количество пропущенных букв (1-2)
- **Логика:** Обрабатывается каждое второе кириллическое слово длиной >3 букв
- **Пример:** "Боря плыл в лодке" → "Боря пл__ в лод__"

### 5. Без гласных (missing-vowels)
- **Описание:** Гласные буквы заменены черточками
- **Сложность:** Средне
- **Цель:** Развитие анализа и синтеза
- **Пример:** "Боря плыл в лодке" → "Б_р_ пл_л в л_дк_"

### 6. Частично перевернутые слова (partial-reversed)
- **Описание:** Некоторые слова повернуты на 180° через CSS
- **Сложность:** Средне
- **Цель:** Развитие внимания и гибкости чтения
- **Логика:** Каждое второе кириллическое слово длиной >2 букв поворачивается
- **Реализация:** CSS `transform: rotate(180deg)`
- **Пример:** "Боря плыл в лодке" → "Боря **плыл** в лодке" (где плыл перевернуто)

### 7. Анаграммы (scrambled-words)
- **Описание:** Буквы в словах перемешаны
- **Сложность:** Сложно
- **Цель:** Развитие анализа и синтеза слов
- **Настройки:**
  - Сохранять первую и последнюю буквы (по умолчанию)
  - Перемешивать все буквы (повышенная сложность)
- **Особенности:**
  - Умная обработка заглавных букв (первая буква результата становится заглавной)
  - Алгоритм Фишера-Йетса для качественного перемешивания
  - Обрабатываются только слова >3 букв
- **Примеры:**
  - Режим сохранения: "Солнце" → "Слоцне"
  - Полное перемешивание: "Солнце" → "Цсонел"

### 8. Слитный текст (merged-text)
- **Описание:** Текст написан без пробелов между словами
- **Сложность:** Средне
- **Цель:** Развитие сегментации и понимания границ слов
- **Особенности:** Знаки препинания сохраняются
- **Пример:** "Боря плыл в лодке. Солнце светило." → "Боряплылвлодке.Солнцесветило."

### 9. С лишними буквами (extra-letters)
- **Описание:** Между основными буквами вставлены случайные
- **Сложность:** Сложно
- **Цель:** Развитие избирательного внимания
- **Настройки:** Плотность лишних букв (10-50%)
- **Визуализация:** Основной текст черный, лишние буквы серые (#888)
- **Пример:** "Боря плыл" → "Бор**з**я плы**н**л" (где выделенные буквы серые)

### 10. Зеркальный текст (mirror-text)
- **Описание:** Каждое предложение написано справа налево (по буквам)
- **Сложность:** Сложно
- **Цель:** Развитие пространственного мышления
- **Особенности:** Заглавные буквы остаются на своих позициях после переворота
- **Пример:** "Боря плыл в лодке. Солнце светило." → "екдол в лылп яроБ. олитевс ецнлоС."

### 11. Смешанный тип (mixed-types)
- **Описание:** Комбинация разных типов в одном тексте
- **Сложность:** Сложно
- **Цель:** Развитие переключения внимания
- **Режимы:**
  - **По предложениям:** Каждое предложение использует свой тип (missing-vowels → scrambled-words → missing-endings → partial-reversed → merged-text)
  - **Сборная солянка:** Каждое слово обрабатывается разным типом (максимальная сложность)
- **Пример (по предложениям):**
  - 1-е: "Б_р_ пл_л в л_дк_" (missing-vowels)
  - 2-е: "Дан рокей латели пцтиы" (scrambled-words)
  - 3-е: "Солнце ярко свети__" (missing-endings)

### 12. Лесенка из слов (word-ladder)
- **Описание:** Нарастающие фразы по принципу лесенки
- **Сложность:** Легко
- **Цель:** Развитие плавности чтения
- **Логика:** Каждая строка добавляет одно слово к предыдущей
- **Пример:**
  ```
  Боря
  Боря плыл
  Боря плыл в
  Боря плыл в лодке
  ```

## Технические особенности

### Архитектура
- **Единый генератор:** HTML и PDF используют одинаковую логику трансформации
- **Предварительный просмотр:** Точное соответствие между HTML-превью и PDF
- **CSS-методы:** Все визуальные эффекты реализованы через CSS, совместимый с Playwright

### Валидация
- **Минимальные требования:** 3 слова, 10 символов, наличие кириллицы
- **Клиентская валидация:** Мгновенная обратная связь в UI
- **Серверная валидация:** Zod-схемы для типобезопасности

### Настройки
- **Шрифт:** 3 размера (крупный 14pt, средний 12pt, обычный 11pt)
- **Регистр:** Заглавные, строчные, смешанный
- **Форматирование:** Заголовки, нумерация страниц, инструкции

### CSS-реализация обрезания текста
Для bottom-cut и top-cut используется метод псевдоэлементов:

```css
.bottom-cut-pseudo {
  position: relative;
  display: inline-block;
  vertical-align: baseline;
}

.bottom-cut-pseudo:before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--cut-height, 60%);
  background: white;
  z-index: 1;
}
```

## Применение

### Возрастные группы
- **3-5 лет:** bottom-cut, top-cut, normal
- **6-8 лет:** missing-endings, missing-vowels, word-ladder
- **9-12 лет:** scrambled-words, partial-reversed, merged-text
- **13+ лет:** extra-letters, mirror-text, mixed-types

### Образовательные цели
- **Зрительное восприятие:** bottom-cut, top-cut
- **Языковые навыки:** missing-endings, missing-vowels
- **Внимание и концентрация:** extra-letters, mixed-types
- **Пространственное мышление:** mirror-text, partial-reversed
- **Скорочтение:** merged-text, scrambled-words

## Статистика реализации

- ✅ **12 типов трансформаций** полностью реализованы
- ✅ **Единая архитектура** для HTML и PDF
- ✅ **Полная настраиваемость** каждого типа
- ✅ **Валидация и типобезопасность** на всех уровнях
- ✅ **Адаптивный UI** с предварительным просмотром
- ✅ **Профессиональное PDF-поколение** через Playwright

Генератор готов к интеграции в общую платформу ChildDev как полноценный образовательный инструмент.