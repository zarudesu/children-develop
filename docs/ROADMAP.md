# Roadmap проекта: копия сайта-генератора (childdevelop-like)

## 0) Подготовка (Week 0)
- [ ] Уточнить цели MVP: «Филворд» → PDF (2 страницы: задание + ответы), кириллица, крупный шрифт.
- [ ] Утвердить архитектуру: **две службы** — `web` (Next.js) и `pdf` (Playwright/Chromium).
- [ ] Определить доменное имя, языки интерфейса (RU на старте), регионы (BR/RU).
- [ ] Описать роли и метки задач: `core`, `pdf`, `web`, `content`, `ops`, `qa`.
- [ ] Сформировать список целевых конкурентов и функциональный паритет (минимум для MVP).
- [ ] Принять UX-референс (как на childdevelop: страница генератора, каталог заданий, карточки).

---

## 1) Базовая инфраструктура (Week 1)
- [ ] Создать монорепо/репо: каталоги `web/`, `pdf/`, `docs/`.
- [ ] Завести **переменные окружения** и единый конфиг (без секретов в git).
- [ ] Собрать локальную среду через `docker compose` (два сервиса, общая сеть).
- [ ] Настроить **healthcheck** для `pdf` и `web`.
- [ ] CI: сборка образов, линт/типы, прогон smoke-тестов.
- [ ] CD: выкладка на staging-сервер (одна машина, reverse-proxy, SSL).
- [ ] Логи и метрики: базовый доступ к логам контейнеров, алерты по 5xx.

**Критерии готовности**
- `docker compose up` поднимает `web` и `pdf`, оба проходят `/health`.
- В CI оба образы успешно собираются, выкладываются в регистри.

---

## 2) Генератор «Филворд» — ядро (Week 2–3)
- [ ] Спецификация входных параметров: список слов, размер сетки, направления, регистр, стиль шрифта.
- [ ] Алгоритм размещения слов: горизонталь/вертикаль/диагонали; запрет пересечений (флаг); контроль коллизий.
- [ ] Заполнение пустых ячеек буквами (кириллица, контролируемое распределение).
- [ ] Подготовка «карты ответов» (координаты/направления/маска подсветки).
- [ ] Тестовые наборы слов по темам (минимальные для QA).

**Критерии готовности**
- Для заданных параметров возвращается корректная сетка и валидная карта ответов.
- Генератор стабильно решает 100+ прогонов, без «зависших» размещений.

---

## 3) PDF-сервис (Week 3–4)
- [ ] Макет PDF: 2 страницы A4, поля, места под заголовок/инструкцию/список слов/сетку.
- [ ] Шрифты: подключить кириллические семейства (печатный и «письменный»), проверить лицензии.
- [ ] Вёрстка сетки: единый размер клеток (мм/pt), контрастные границы, кегль ≥ 14 pt.
- [ ] Страница «Ответы»: визуальная подсветка букв слов, легенда направлений.
- [ ] Производительность: время рендера, размер PDF, корректное встраивание шрифтов (subset).
- [ ] Обработка ошибок: таймауты рендера, логгирование, возврат понятных ответов API.

**Критерии готовности**
- На вход JSON → на выход стабильный PDF (кириллица, 2 страницы, ровная сетка).
- Файлы открываются во всех популярных ридерах без предупреждений.

---

## 4) Веб-сайт (Week 4–5)
- [ ] Страница генератора: форма параметров (слова, размер, направления, регистр, стиль шрифта).
- [ ] Валидация: только кириллица по умолчанию (опция), контроль длины слов/размера сетки.
- [ ] Кнопка «Скачать PDF»: обращение к `pdf`-сервису, отображение ошибок, лоадер.
- [ ] Базовая SEO-обвязка: title/description, человекочитаемый URL генератора.
- [ ] Дизайн: аккуратная типографика, адаптивность, удобство на планшете.

**Критерии готовности**
- Пользователь может собрать параметры и получить скачиваемый PDF без сбоев.
- UI не даёт ввести невалидные значения, все ошибки читаемые.

---

## 5) Контент и словари (Week 5–6)
- [ ] Минимальный набор тематических словарей (3–5 тем, 100–300 слов каждая).
- [ ] Разметка уровней сложности (простые/средние/сложные).
- [ ] Политика нормализации слов (регистр, буква «ё», дефисы).
- [ ] Интерфейс: выбор темы/уровня + возможность вручную добавить свои слова.
- [ ] Локализация интерфейса (RU на старте; опционально PT/EN позже).

**Критерии готовности**
- Можно собрать задание из выбранной темы/уровня или полностью кастомный набор.
- Словари проходят проверку на дубли/опечатки/«неразмещабельные» слова.

---

## 6) Каталог и UX как у конкурента (Week 6–7)
- [ ] Страница каталога: карточки заданий/пресетов (демо-сборки).
- [ ] Фильтры/поиск: темы, уровень, возраст/класс.
- [ ] Предпросмотр миниатюры (скрин/рендер первой страницы).
- [ ] Раздел «Инструкции/Правила» (короткая справка для родителей/учителей).
- [ ] Статика: политика конфиденциальности, условия использования.

**Критерии готовности**
- Пользователь находит нужную тему и уходит с готовым PDF за ≤ 3 клика.
- Базовый паритет с UX-потоком целевого сайта на уровне MVP.

---

## 7) Качество и тестирование (сквозное; контрольная неделя)
- [ ] Юнит-тесты на генерацию сеток (охват кейсов направлений/размеров/регистров).
- [ ] Интеграционные тесты: `web` ↔ `pdf` (валидные и ошибочные запросы).
- [ ] Визуальные регресс-снимки PDF (сравнение контрольных эталонов).
- [ ] Локализация шрифтов/кириллицы на разных ОС/PDF-ридерах.
- [ ] Нагрузочное: серия генераций подряд, поведение под пиковыми запросами.

**Критерии готовности**
- Все автотесты зелёные; представлен отчёт о кросс-ридерной проверке PDF.
- Под пиковой нагрузкой сервис сохраняет SLO (например, p95 < N секунд).

---

## 8) Монетизация (после MVP)
- [ ] Модель: бесплатные генерации + премиум (расширенные словари/уровни/пакеты PDF).
- [ ] Учёт лимитов бесплатного использования (на пользователя/на IP/в сутки).
- [ ] Подключение платежей (BR: Mercado Pago; глобально: Stripe).
- [ ] Аккаунты/профили: сохранённые пресеты, история генераций.
- [ ] Email/WhatsApp отправка готовых PDF (по согласию).

**Критерии готовности**
- Можно купить/получить доступ к премиум-фичам; лимиты соблюдаются.
- Платёжные флоу покрыты тестовыми кейсами и возвратами.

---

## 9) Продакшн и эксплуатация
- [ ] HTTPS, HTTP/2, HSTS, корректные CORS.
- [ ] Обновления шрифтов и словарей без даунтайма (тома/конфиги).
- [ ] Бекапы словарей/пресетов (ежедневно), экспорт/импорт.
- [ ] Мониторинг: аптайм, время рендера, объём/вес PDF, коды ответов, алерты.
- [ ] Политика ретенции кэша PDF (S3/MinIO), авто-очистка.

**Критерии готовности**
- Визуальная и метрик-панель показывает стабильную работу продакшна.
- Описаны процедуры инцидентов и отката.

---

## 10) Безопасность и правовые вопросы
- [ ] Лицензии на шрифты (особенно «письменные»/propisi).
- [ ] Политика обработки пользовательских данных, согласия, удаление по запросу.
- [ ] Rate-limit и анти-abuse для публичных эндпоинтов PDF.
- [ ] Сканы уязвимостей образов; регулярные обновления базового образа.

---

## 11) Бэклог улучшений (после релиза)
- [ ] Новые генераторы: анаграммы, списывание, скорочтение и т.д.
- [ ] Мобильная оптимизация процессов генерации (удобный ввод/выбор).
- [ ] Мультишрифтовые темы (дизайн-пакеты для школ/репетиторов).
- [ ] Экспорт в SVG/PNG помимо PDF.
- [ ] Публичное API для партнёров.

---

## Готовые артефакты, которые стоит добавить в репозиторий
- [ ] `ROADMAP.md` (этот документ).
- [ ] `SPECS_MVP.md` (чёткое описание входов/выходов генератора и PDF).
- [ ] `UX_FLOW.md` (скрин-флоу пользователя — генератор → PDF).
- [ ] `QA_CHECKLIST.md` (проверки верстки PDF, кириллицы, ридеров).
- [ ] `OPERATIONS.md` (деплой, домены, TLS, мониторинг, бекапы, обновления).
- [ ] `LEGAL.md` (лицензии шрифтов, политика приватности).